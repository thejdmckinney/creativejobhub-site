<!-- Interactive Route Optimization Illustration -->
<svg viewBox="0 0 600 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="mapGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e293b"/>
      <stop offset="100%" style="stop-color:#0f172a"/>
    </linearGradient>
    <linearGradient id="routeGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0ea5e9"/>
      <stop offset="100%" style="stop-color:#22c55e"/>
    </linearGradient>
    <radialGradient id="locationGlow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#0ea5e9;stop-opacity:0"/>
    </radialGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    <filter id="shadow">
      <feDropShadow dx="0" dy="2" stdDeviation="4" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="400" fill="#0b1220"/>
  
  <!-- Map Container -->
  <rect x="40" y="40" width="520" height="320" rx="12" fill="url(#mapGrad)" stroke="rgba(148,163,184,0.2)" stroke-width="1" filter="url(#shadow)"/>
  
  <!-- Map Grid (street layout) -->
  <g class="map-grid" stroke="rgba(148,163,184,0.1)" stroke-width="1" opacity="0.6">
    <!-- Horizontal streets -->
    <line x1="60" y1="100" x2="540" y2="100"/>
    <line x1="60" y1="150" x2="540" y2="150"/>
    <line x1="60" y1="200" x2="540" y2="200"/>
    <line x1="60" y1="250" x2="540" y2="250"/>
    <line x1="60" y1="300" x2="540" y2="300"/>
    
    <!-- Vertical streets -->
    <line x1="120" y1="60" x2="120" y2="340"/>
    <line x1="200" y1="60" x2="200" y2="340"/>
    <line x1="280" y1="60" x2="280" y2="340"/>
    <line x1="360" y1="60" x2="360" y2="340"/>
    <line x1="440" y1="60" x2="440" y2="340"/>
    <line x1="520" y1="60" x2="520" y2="340"/>
  </g>
  
  <!-- Route Points (Customer Locations) -->
  <g class="customer-locations">
    <!-- Home Base (Depot) -->
    <g class="depot" transform="translate(100, 120)">
      <circle cx="0" cy="0" r="15" fill="url(#locationGlow)">
        <animate attributeName="r" values="15;20;15" dur="3s" repeatCount="indefinite"/>
      </circle>
      <rect x="-8" y="-8" width="16" height="16" rx="2" fill="#0ea5e9" stroke="white" stroke-width="2"/>
      <text x="0" y="2" text-anchor="middle" fill="white" font-family="system-ui" font-size="8" font-weight="bold">üè†</text>
      <text x="0" y="-25" text-anchor="middle" fill="#0ea5e9" font-family="system-ui" font-size="10" font-weight="600">Depot</text>
    </g>
    
    <!-- Customer 1 -->
    <g class="customer" transform="translate(180, 180)" style="cursor:pointer">
      <circle cx="0" cy="0" r="12" fill="rgba(34,197,94,0.3)">
        <animate attributeName="r" values="8;12;8" dur="2.5s" repeatCount="indefinite" begin="0s"/>
      </circle>
      <circle cx="0" cy="0" r="6" fill="#22c55e" stroke="white" stroke-width="2"/>
      <text x="0" y="2" text-anchor="middle" fill="white" font-family="system-ui" font-size="6" font-weight="bold">1</text>
      <text x="0" y="-20" text-anchor="middle" fill="#22c55e" font-family="system-ui" font-size="9" font-weight="500">Johnson</text>
    </g>
    
    <!-- Customer 2 -->
    <g class="customer" transform="translate(320, 140)" style="cursor:pointer">
      <circle cx="0" cy="0" r="12" fill="rgba(34,197,94,0.3)">
        <animate attributeName="r" values="8;12;8" dur="2.5s" repeatCount="indefinite" begin="0.5s"/>
      </circle>
      <circle cx="0" cy="0" r="6" fill="#22c55e" stroke="white" stroke-width="2"/>
      <text x="0" y="2" text-anchor="middle" fill="white" font-family="system-ui" font-size="6" font-weight="bold">2</text>
      <text x="0" y="-20" text-anchor="middle" fill="#22c55e" font-family="system-ui" font-size="9" font-weight="500">Smith</text>
    </g>
    
    <!-- Customer 3 -->
    <g class="customer" transform="translate(450, 220)" style="cursor:pointer">
      <circle cx="0" cy="0" r="12" fill="rgba(34,197,94,0.3)">
        <animate attributeName="r" values="8;12;8" dur="2.5s" repeatCount="indefinite" begin="1s"/>
      </circle>
      <circle cx="0" cy="0" r="6" fill="#22c55e" stroke="white" stroke-width="2"/>
      <text x="0" y="2" text-anchor="middle" fill="white" font-family="system-ui" font-size="6" font-weight="bold">3</text>
      <text x="0" y="-20" text-anchor="middle" fill="#22c55e" font-family="system-ui" font-size="9" font-weight="500">Wilson</text>
    </g>
    
    <!-- Customer 4 -->
    <g class="customer" transform="translate(380, 280)" style="cursor:pointer">
      <circle cx="0" cy="0" r="12" fill="rgba(34,197,94,0.3)">
        <animate attributeName="r" values="8;12;8" dur="2.5s" repeatCount="indefinite" begin="1.5s"/>
      </circle>
      <circle cx="0" cy="0" r="6" fill="#22c55e" stroke="white" stroke-width="2"/>
      <text x="0" y="2" text-anchor="middle" fill="white" font-family="system-ui" font-size="6" font-weight="bold">4</text>
      <text x="0" y="-20" text-anchor="middle" fill="#22c55e" font-family="system-ui" font-size="9" font-weight="500">Davis</text>
    </g>
  </g>
  
  <!-- Optimized Route Path -->
  <g class="route-path">
    <!-- Main route line -->
    <path d="M100 120 Q140 150 180 180 Q250 160 320 140 Q385 180 450 220 Q415 250 380 280" 
          stroke="url(#routeGrad)" stroke-width="4" fill="none" stroke-linecap="round" opacity="0.8">
      <animate attributeName="stroke-dasharray" values="0,1000; 1000,0" dur="8s" repeatCount="indefinite"/>
    </path>
    
    <!-- Return route -->
    <path d="M380 280 Q300 320 200 300 Q150 250 100 120" 
          stroke="url(#routeGrad)" stroke-width="3" fill="none" stroke-linecap="round" opacity="0.6" stroke-dasharray="5,5">
      <animate attributeName="stroke-dashoffset" values="0;10" dur="2s" repeatCount="indefinite"/>
    </path>
  </g>
  
  <!-- Moving Technician Vehicle -->
  <g class="technician-vehicle">
    <circle cx="0" cy="0" r="8" fill="#0ea5e9" stroke="white" stroke-width="2">
      <animateMotion dur="12s" repeatCount="indefinite">
        <mpath href="#vehicle-path"/>
      </animateMotion>
    </circle>
    <text x="0" y="2" text-anchor="middle" fill="white" font-family="system-ui" font-size="6" font-weight="bold">üöê</text>
    
    <!-- Define the path for the vehicle -->
    <path id="vehicle-path" d="M100 120 Q140 150 180 180 Q250 160 320 140 Q385 180 450 220 Q415 250 380 280 Q300 320 200 300 Q150 250 100 120" opacity="0"/>
  </g>
  
  <!-- Time/Distance Indicators -->
  <g class="route-info" transform="translate(460, 60)">
    <rect x="0" y="0" width="90" height="60" rx="8" fill="rgba(14,165,233,0.1)" stroke="rgba(14,165,233,0.3)" stroke-width="1"/>
    
    <text x="45" y="15" text-anchor="middle" fill="#0ea5e9" font-family="system-ui" font-size="10" font-weight="600">Route Stats</text>
    
    <!-- Distance -->
    <text x="10" y="30" fill="#cbd5e1" font-family="system-ui" font-size="9" font-weight="500">üìç Distance:</text>
    <text x="10" y="42" fill="#22c55e" font-family="system-ui" font-size="11" font-weight="600" id="distance-text">24.7 mi</text>
    
    <!-- Time -->
    <text x="10" y="55" fill="#cbd5e1" font-family="system-ui" font-size="9" font-weight="500">‚è±Ô∏è Time: </text>
    <text x="45" y="55" fill="#22c55e" font-family="system-ui" font-size="11" font-weight="600" id="time-text">2h 15m</text>
  </g>
  
  <!-- Optimization Panel -->
  <g class="optimization-panel" transform="translate(40, 370)">
    <rect x="0" y="0" width="250" height="25" rx="6" fill="rgba(34,197,94,0.1)" stroke="rgba(34,197,94,0.3)" stroke-width="1"/>
    
    <circle cx="15" cy="12" r="6" fill="#22c55e">
      <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite"/>
    </circle>
    <text x="15" y="15" text-anchor="middle" fill="white" font-family="system-ui" font-size="6" font-weight="bold">‚úì</text>
    
    <text x="30" y="16" fill="#22c55e" font-family="system-ui" font-size="11" font-weight="600">Route Optimized - Saved 35 minutes</text>
  </g>
  
  <!-- Live ETA Updates -->
  <g class="eta-updates" transform="translate(320, 60)">
    <rect x="0" y="0" width="120" height="80" rx="8" fill="rgba(255,255,255,0.03)" stroke="rgba(148,163,184,0.2)" stroke-width="1"/>
    
    <text x="60" y="15" text-anchor="middle" fill="#cbd5e1" font-family="system-ui" font-size="10" font-weight="600">Live ETAs</text>
    
    <!-- ETA List -->
    <g class="eta-list">
      <text x="10" y="30" fill="#94a3b8" font-family="system-ui" font-size="8">Johnson:</text>
      <text x="90" y="30" text-anchor="end" fill="#22c55e" font-family="system-ui" font-size="9" font-weight="600">10:30 AM</text>
      
      <text x="10" y="45" fill="#94a3b8" font-family="system-ui" font-size="8">Smith:</text>
      <text x="90" y="45" text-anchor="end" fill="#f59e0b" font-family="system-ui" font-size="9" font-weight="600">11:15 AM</text>
      
      <text x="10" y="60" fill="#94a3b8" font-family="system-ui" font-size="8">Wilson:</text>
      <text x="90" y="60" text-anchor="end" fill="#94a3b8" font-family="system-ui" font-size="9" font-weight="600">2:45 PM</text>
      
      <text x="10" y="75" fill="#94a3b8" font-family="system-ui" font-size="8">Davis:</text>
      <text x="90" y="75" text-anchor="end" fill="#94a3b8" font-family="system-ui" font-size="9" font-weight="600">3:30 PM</text>
    </g>
    
    <!-- Auto-update indicator -->
    <circle cx="105" cy="12" r="3" fill="#0ea5e9">
      <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
    </circle>
  </g>
  
  <!-- GPS Signal Indicator -->
  <g class="gps-signal" transform="translate(60, 60)">
    <circle cx="0" cy="0" r="15" fill="none" stroke="#22c55e" stroke-width="1" opacity="0.4">
      <animate attributeName="r" values="10;20;10" dur="3s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.6;0.2;0.6" dur="3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="0" cy="0" r="10" fill="none" stroke="#22c55e" stroke-width="1" opacity="0.6">
      <animate attributeName="r" values="5;15;5" dur="3s" repeatCount="indefinite"/>
    </circle>
    <circle cx="0" cy="0" r="3" fill="#22c55e"/>
    <text x="0" y="-25" text-anchor="middle" fill="#22c55e" font-family="system-ui" font-size="9" font-weight="500">GPS Active</text>
  </g>
  
  <!-- Traffic Conditions Overlay -->
  <g class="traffic-overlay" opacity="0.7">
    <!-- Good traffic (green) -->
    <path d="M100 120 Q140 150 180 180" stroke="#22c55e" stroke-width="6" opacity="0.3"/>
    
    <!-- Moderate traffic (yellow) -->
    <path d="M180 180 Q250 160 320 140" stroke="#f59e0b" stroke-width="6" opacity="0.3"/>
    
    <!-- Heavy traffic (red) -->
    <path d="M320 140 Q385 180 450 220" stroke="#ef4444" stroke-width="6" opacity="0.3">
      <animate attributeName="opacity" values="0.3;0.6;0.3" dur="2s" repeatCount="indefinite"/>
    </path>
  </g>
  
  <!-- Interactive Styles -->
  <style>
    .customer:hover circle:first-child {
      r: 18;
      transition: r 0.3s ease;
    }
    .customer:hover {
      transform: scale(1.1);
      transition: transform 0.2s ease;
    }
    .route-path path {
      cursor: pointer;
    }
    .route-path path:hover {
      stroke-width: 6;
      transition: stroke-width 0.2s ease;
    }
  </style>
</svg>